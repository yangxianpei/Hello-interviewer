{"remainingRequest":"C:\\Users\\Administrator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\Hello-interviewer\\calendar.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\Hello-interviewer\\calendar.vue","mtime":1575701370217},{"path":"C:\\Users\\Administrator\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\Hello-interviewer\\node_modules\\stylus-loader\\index.js","mtime":1575701371919},{"path":"C:\\Users\\Administrator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJveCB7CiAgYm9yZGVyOiAxcHggc29saWQgcGluayA7CiAgYm94LXNoYWRvdyAxcHggMXB4IDFweCBncmVlbiwtMXB4IC0xcHggMXB4IGdyZWVuOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKfQoudGl0bGV7CiAgdGV4dC1hbGlnbiBjZW50ZXI7CiAgd2lkdGggMjUwcHg7Cn0KLmhpZGVyIHsKICBib3JkZXI6IDFweCBzb2xpZCBwaW5rOwogIGN1cnNvcjogcG9pbnRlcjsKICB3aWR0aDogMjUwcHg7CiAgcGFkZGluZzogM3B4IDA7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CgogIHNwYW4gewogICAgY29sb3I6IGdyYXk7CiAgfQoKICBkaXYgewogICAgYm9yZGVyLXJhZGl1czogNTAlOwogIH0KCiAgLmRhdGE6aG92ZXIgewogICAgYmFja2dyb3VuZDogcGluazsKICB9Cn0KCi5wYW5uZWwtbmF2IHsKICB3aWR0aDogMjUwcHg7Cn0KCi5wYW5uZWwtY29udGVudCB7CiAgZGl2IHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKCiAgICBzcGFuIHsKICAgICAgcGFkZGluZzogMnB4OwogICAgICB3aWR0aDogMzJweDsKICAgICAgaGVpZ2h0OiAzMnB4OwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGxpbmUtaGVpZ2h0OiAzMnB4OwogICAgICBmb250LXdlaWdodCBib2xkOwogICAgICBjdXJzb3IgcG9pbnRlcjsKICAgICAgYm9yZGVyLXJhZGl1cyA0cHg7CiAgICB9CiAgICBzcGFuOmhvdmVyewogICAgICBiYWNrZ3JvdW5kIGJyb3duOwogICAgfQogIH0KfQoKLnBhbm5lbC1mb290ZXIgewogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLmN1cmVudE1vdW50aCB7CiAgY29sb3I6IGdyYXk7Cn0KCi5jdXJlbnREYXkgewogIGJhY2tncm91bmQ6IGJsdWU7CiAgY29sb3I6IHdoaXRlOwp9Cg=="},{"version":3,"sources":["calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"calendar.vue","sourceRoot":".","sourcesContent":["<template>\n  <div v-outside>\n    <div class='hider'>\n      <div class=\"pannel-nav\" v-for=\"(item,index) in visibleDays.slice(7,14)\" :key='index'>\n        <span>\n          {{basisInfo[index]}}\n        </span>\n        <div  class='data' :class=\"[\n        { curentDay:iscurentDay(item)},\n        ]\">\n          {{item.getDate()}}\n        </div>       \n      </div>  \n    </div>\n    <div class='title' v-if=\"!isvisible\">↓↓↓</div>\n    <div v-if=\"isvisible\" class='box'>\n      <div class=\"pannel-content\">\n        <div v-for='i in 6' :key=\"i\">\n          <span v-for=\"j in 7\" :key=\"j\" :class=\"[\n            { curentMounth:!iscurentMounth(visibleDays[(i-1)*7+(j-1)])}\n            ,{curentDay:iscurentDay(visibleDays[(i-1)*7+(j-1)])}\n            ]\"\n            @click=\"changeDay(visibleDays[(i-1)*7+(j-1)])\"\n           >\n            {{visibleDays[(i-1)*7+(j-1)].getDate()}}\n          </span>\n        </div>\n      </div>\n      <div class=\"pannel-footer\">\n        <span>{{formatDate}}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as utils from './utils';\nexport default {\n  props: {\n    value: {\n      type: Date,\n      default: () => new Date()\n    }\n  },\n  directives: {\n    outside: {\n      bind(el, bindings, vnode) { //生命周期\n        let handler = (e) => {\n          if (el.contains(e.target)) {\n            vnode.context.focus()\n          } else {\n            vnode.context.blur()\n          }\n        }\n        el.handler = handler\n        document.addEventListener('click', handler)\n      },\n      unbind(el) {\n        document.removeEventListener('click', el.handler)\n      }\n    }\n  },\n  data() {\n    return {\n      isvisible: false,\n      basisInfo: ['日', '一', '二', '三', '四', '五', '六']\n    }\n  },\n  methods: {\n    focus() {\n      this.isvisible = true\n    },\n    blur() {\n      this.isvisible = false\n    },\n    iscurentMounth(d) {\n      //当前年月\n      let { year, month } = utils.getYearMonthDay(this.value)\n      //传进来的年月\n      let { year: y, month: m } = utils.getYearMonthDay(d)\n      return year == y && month == m\n    },\n    iscurentDay(date) {\n      let { year, month, day } = utils.getYearMonthDay(this.value)\n      //传进来的年月\n      let { year: y, month: m, day: d } = utils.getYearMonthDay(date)\n      return year == y && month == m && day == d\n    },\n    changeDay(d){\n      console.log(d);\n      this.$emit('input',d)\n    }\n  },\n  mounted() {\n    //  this.visibleDays\n    console.log();\n  },\n  computed: {\n    visibleDays() {\n      //思路\n      //获取当前日期的月的第一天\n      //计算出第一天是周几 getDay()\n      //然后往前推移到周日获取日期\n      //循环遍历42天\n\n\n      let { year, month } = utils.getYearMonthDay(this.value)\n      //获取当前月\n      let currentMountfirstDay = utils.wantDate(year, month, 1)\n      //获取周几\n      let week = currentMountfirstDay.getDay()\n      //往前推移几天\n      let startDay = currentMountfirstDay - (week +7) * 60 * 60 * 1000 * 24\n      //循环42天\n      let arr = []\n      for (let i = 0; i < 42; i++) {\n        arr.push(new Date(startDay + i * 60 * 60 * 1000 * 24))\n      }\n      return arr\n    },\n    formatDate() {\n      let { year, month, day } = utils.getYearMonthDay(this.value)\n      return `${year}-${month + 1}-${day}`\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.box {\n  border: 1px solid pink ;\n  box-shadow 1px 1px 1px green,-1px -1px 1px green;\n  position: absolute;\n}\n.title{\n  text-align center;\n  width 250px;\n}\n.hider {\n  border: 1px solid pink;\n  cursor: pointer;\n  width: 250px;\n  padding: 3px 0;\n  display: flex;\n  justify-content: space-around;\n  text-align: center;\n\n  span {\n    color: gray;\n  }\n\n  div {\n    border-radius: 50%;\n  }\n\n  .data:hover {\n    background: pink;\n  }\n}\n\n.pannel-nav {\n  width: 250px;\n}\n\n.pannel-content {\n  div {\n    display: flex;\n    justify-content: space-around;\n\n    span {\n      padding: 2px;\n      width: 32px;\n      height: 32px;\n      text-align: center;\n      line-height: 32px;\n      font-weight bold;\n      cursor pointer;\n      border-radius 4px;\n    }\n    span:hover{\n      background brown;\n    }\n  }\n}\n\n.pannel-footer {\n  text-align: center;\n}\n\n.curentMounth {\n  color: gray;\n}\n\n.curentDay {\n  background: blue;\n  color: white;\n}\n</style>"]}]}