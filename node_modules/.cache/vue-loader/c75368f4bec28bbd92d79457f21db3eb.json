{"remainingRequest":"C:\\Users\\Administrator\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\Hello-interviewer\\calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\Hello-interviewer\\calendar.vue","mtime":1575701370217},{"path":"C:\\Users\\Administrator\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vdXRpbHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IERhdGUsCiAgICAgIGRlZmF1bHQ6ICgpID0+IG5ldyBEYXRlKCkKICAgIH0KICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIG91dHNpZGU6IHsKICAgICAgYmluZChlbCwgYmluZGluZ3MsIHZub2RlKSB7IC8v55Sf5ZG95ZGo5pyfCiAgICAgICAgbGV0IGhhbmRsZXIgPSAoZSkgPT4gewogICAgICAgICAgaWYgKGVsLmNvbnRhaW5zKGUudGFyZ2V0KSkgewogICAgICAgICAgICB2bm9kZS5jb250ZXh0LmZvY3VzKCkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZub2RlLmNvbnRleHQuYmx1cigpCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsLmhhbmRsZXIgPSBoYW5kbGVyCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVyKQogICAgICB9LAogICAgICB1bmJpbmQoZWwpIHsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGVsLmhhbmRsZXIpCiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc3Zpc2libGU6IGZhbHNlLAogICAgICBiYXNpc0luZm86IFsn5pelJywgJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJ10KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZvY3VzKCkgewogICAgICB0aGlzLmlzdmlzaWJsZSA9IHRydWUKICAgIH0sCiAgICBibHVyKCkgewogICAgICB0aGlzLmlzdmlzaWJsZSA9IGZhbHNlCiAgICB9LAogICAgaXNjdXJlbnRNb3VudGgoZCkgewogICAgICAvL+W9k+WJjeW5tOaciAogICAgICBsZXQgeyB5ZWFyLCBtb250aCB9ID0gdXRpbHMuZ2V0WWVhck1vbnRoRGF5KHRoaXMudmFsdWUpCiAgICAgIC8v5Lyg6L+b5p2l55qE5bm05pyICiAgICAgIGxldCB7IHllYXI6IHksIG1vbnRoOiBtIH0gPSB1dGlscy5nZXRZZWFyTW9udGhEYXkoZCkKICAgICAgcmV0dXJuIHllYXIgPT0geSAmJiBtb250aCA9PSBtCiAgICB9LAogICAgaXNjdXJlbnREYXkoZGF0ZSkgewogICAgICBsZXQgeyB5ZWFyLCBtb250aCwgZGF5IH0gPSB1dGlscy5nZXRZZWFyTW9udGhEYXkodGhpcy52YWx1ZSkKICAgICAgLy/kvKDov5vmnaXnmoTlubTmnIgKICAgICAgbGV0IHsgeWVhcjogeSwgbW9udGg6IG0sIGRheTogZCB9ID0gdXRpbHMuZ2V0WWVhck1vbnRoRGF5KGRhdGUpCiAgICAgIHJldHVybiB5ZWFyID09IHkgJiYgbW9udGggPT0gbSAmJiBkYXkgPT0gZAogICAgfSwKICAgIGNoYW5nZURheShkKXsKICAgICAgY29uc29sZS5sb2coZCk7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JyxkKQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vICB0aGlzLnZpc2libGVEYXlzCiAgICBjb25zb2xlLmxvZygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZpc2libGVEYXlzKCkgewogICAgICAvL+aAnei3rwogICAgICAvL+iOt+WPluW9k+WJjeaXpeacn+eahOaciOeahOesrOS4gOWkqQogICAgICAvL+iuoeeul+WHuuesrOS4gOWkqeaYr+WRqOWHoCBnZXREYXkoKQogICAgICAvL+eEtuWQjuW+gOWJjeaOqOenu+WIsOWRqOaXpeiOt+WPluaXpeacnwogICAgICAvL+W+queOr+mBjeWOhjQy5aSpCgoKICAgICAgbGV0IHsgeWVhciwgbW9udGggfSA9IHV0aWxzLmdldFllYXJNb250aERheSh0aGlzLnZhbHVlKQogICAgICAvL+iOt+WPluW9k+WJjeaciAogICAgICBsZXQgY3VycmVudE1vdW50Zmlyc3REYXkgPSB1dGlscy53YW50RGF0ZSh5ZWFyLCBtb250aCwgMSkKICAgICAgLy/ojrflj5blkajlh6AKICAgICAgbGV0IHdlZWsgPSBjdXJyZW50TW91bnRmaXJzdERheS5nZXREYXkoKQogICAgICAvL+W+gOWJjeaOqOenu+WHoOWkqQogICAgICBsZXQgc3RhcnREYXkgPSBjdXJyZW50TW91bnRmaXJzdERheSAtICh3ZWVrICs3KSAqIDYwICogNjAgKiAxMDAwICogMjQKICAgICAgLy/lvqrnjq80MuWkqQogICAgICBsZXQgYXJyID0gW10KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0MjsgaSsrKSB7CiAgICAgICAgYXJyLnB1c2gobmV3IERhdGUoc3RhcnREYXkgKyBpICogNjAgKiA2MCAqIDEwMDAgKiAyNCkpCiAgICAgIH0KICAgICAgcmV0dXJuIGFycgogICAgfSwKICAgIGZvcm1hdERhdGUoKSB7CiAgICAgIGxldCB7IHllYXIsIG1vbnRoLCBkYXkgfSA9IHV0aWxzLmdldFllYXJNb250aERheSh0aGlzLnZhbHVlKQogICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aCArIDF9LSR7ZGF5fWAKICAgIH0KICB9Cn0K"},{"version":3,"sources":["calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"calendar.vue","sourceRoot":".","sourcesContent":["<template>\n  <div v-outside>\n    <div class='hider'>\n      <div class=\"pannel-nav\" v-for=\"(item,index) in visibleDays.slice(7,14)\" :key='index'>\n        <span>\n          {{basisInfo[index]}}\n        </span>\n        <div  class='data' :class=\"[\n        { curentDay:iscurentDay(item)},\n        ]\">\n          {{item.getDate()}}\n        </div>       \n      </div>  \n    </div>\n    <div class='title' v-if=\"!isvisible\">↓↓↓</div>\n    <div v-if=\"isvisible\" class='box'>\n      <div class=\"pannel-content\">\n        <div v-for='i in 6' :key=\"i\">\n          <span v-for=\"j in 7\" :key=\"j\" :class=\"[\n            { curentMounth:!iscurentMounth(visibleDays[(i-1)*7+(j-1)])}\n            ,{curentDay:iscurentDay(visibleDays[(i-1)*7+(j-1)])}\n            ]\"\n            @click=\"changeDay(visibleDays[(i-1)*7+(j-1)])\"\n           >\n            {{visibleDays[(i-1)*7+(j-1)].getDate()}}\n          </span>\n        </div>\n      </div>\n      <div class=\"pannel-footer\">\n        <span>{{formatDate}}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as utils from './utils';\nexport default {\n  props: {\n    value: {\n      type: Date,\n      default: () => new Date()\n    }\n  },\n  directives: {\n    outside: {\n      bind(el, bindings, vnode) { //生命周期\n        let handler = (e) => {\n          if (el.contains(e.target)) {\n            vnode.context.focus()\n          } else {\n            vnode.context.blur()\n          }\n        }\n        el.handler = handler\n        document.addEventListener('click', handler)\n      },\n      unbind(el) {\n        document.removeEventListener('click', el.handler)\n      }\n    }\n  },\n  data() {\n    return {\n      isvisible: false,\n      basisInfo: ['日', '一', '二', '三', '四', '五', '六']\n    }\n  },\n  methods: {\n    focus() {\n      this.isvisible = true\n    },\n    blur() {\n      this.isvisible = false\n    },\n    iscurentMounth(d) {\n      //当前年月\n      let { year, month } = utils.getYearMonthDay(this.value)\n      //传进来的年月\n      let { year: y, month: m } = utils.getYearMonthDay(d)\n      return year == y && month == m\n    },\n    iscurentDay(date) {\n      let { year, month, day } = utils.getYearMonthDay(this.value)\n      //传进来的年月\n      let { year: y, month: m, day: d } = utils.getYearMonthDay(date)\n      return year == y && month == m && day == d\n    },\n    changeDay(d){\n      console.log(d);\n      this.$emit('input',d)\n    }\n  },\n  mounted() {\n    //  this.visibleDays\n    console.log();\n  },\n  computed: {\n    visibleDays() {\n      //思路\n      //获取当前日期的月的第一天\n      //计算出第一天是周几 getDay()\n      //然后往前推移到周日获取日期\n      //循环遍历42天\n\n\n      let { year, month } = utils.getYearMonthDay(this.value)\n      //获取当前月\n      let currentMountfirstDay = utils.wantDate(year, month, 1)\n      //获取周几\n      let week = currentMountfirstDay.getDay()\n      //往前推移几天\n      let startDay = currentMountfirstDay - (week +7) * 60 * 60 * 1000 * 24\n      //循环42天\n      let arr = []\n      for (let i = 0; i < 42; i++) {\n        arr.push(new Date(startDay + i * 60 * 60 * 1000 * 24))\n      }\n      return arr\n    },\n    formatDate() {\n      let { year, month, day } = utils.getYearMonthDay(this.value)\n      return `${year}-${month + 1}-${day}`\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.box {\n  border: 1px solid pink ;\n  box-shadow 1px 1px 1px green,-1px -1px 1px green;\n  position: absolute;\n}\n.title{\n  text-align center;\n  width 250px;\n}\n.hider {\n  border: 1px solid pink;\n  cursor: pointer;\n  width: 250px;\n  padding: 3px 0;\n  display: flex;\n  justify-content: space-around;\n  text-align: center;\n\n  span {\n    color: gray;\n  }\n\n  div {\n    border-radius: 50%;\n  }\n\n  .data:hover {\n    background: pink;\n  }\n}\n\n.pannel-nav {\n  width: 250px;\n}\n\n.pannel-content {\n  div {\n    display: flex;\n    justify-content: space-around;\n\n    span {\n      padding: 2px;\n      width: 32px;\n      height: 32px;\n      text-align: center;\n      line-height: 32px;\n      font-weight bold;\n      cursor pointer;\n      border-radius 4px;\n    }\n    span:hover{\n      background brown;\n    }\n  }\n}\n\n.pannel-footer {\n  text-align: center;\n}\n\n.curentMounth {\n  color: gray;\n}\n\n.curentDay {\n  background: blue;\n  color: white;\n}\n</style>"]}]}